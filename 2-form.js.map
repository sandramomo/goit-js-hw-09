{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nlet formData = {\n  message: '',\n  email: '',\n};\nhandleDOMLoad();\nform.addEventListener('input', handleFormInput);\nform.addEventListener('submit', handleFormSubmit);\n\nfunction handleFormInput(e) {\n  formData.email = e.currentTarget.elements.email.value;\n  formData.message = e.currentTarget.elements.message.value;\n  saveToLS('feedback-form-state', formData);\n}\n\nfunction handleFormSubmit(e) {\n  e.preventDefault();\n  if (formData.email.trim() === '' || formData.message.trim() === '') {\n    alert('Fill all fields please');\n    return;\n  } else {\n    const saveUserData = { ...formData };\n    localStorage.removeItem('feedback-form-state');\n    form.reset();\n    formData = {\n      message: '',\n      email: '',\n    };\n    console.log(saveUserData);\n  }\n}\nfunction handleDOMLoad() {\n  try {\n    const lsData = getFromLS('feedback-form-state');\n    form.elements.email.value = lsData.email || '';\n    form.elements.message.value = lsData.message || '';\n    formData =\n      lsData && typeof lsData === 'object'\n        ? lsData\n        : { email: '', message: '' };\n  } catch {}\n}\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\nfunction getFromLS(key) {\n  const jsonData = localStorage.getItem(key);\n  try {\n    const data = JSON.parse(jsonData);\n    return data;\n  } catch {}\n}\n"],"names":["form","formData","handleDOMLoad","handleFormInput","handleFormSubmit","saveToLS","saveUserData","lsData","getFromLS","key","value","jsonData"],"mappings":"sFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EACpD,IAAIC,EAAW,CACb,QAAS,GACT,MAAO,EACT,EACAC,IACAF,EAAK,iBAAiB,QAASG,CAAe,EAC9CH,EAAK,iBAAiB,SAAUI,CAAgB,EAEhD,SAASD,EAAgB,EAAG,CAC1BF,EAAS,MAAQ,EAAE,cAAc,SAAS,MAAM,MAChDA,EAAS,QAAU,EAAE,cAAc,SAAS,QAAQ,MACpDI,EAAS,sBAAuBJ,CAAQ,CAC1C,CAEA,SAASG,EAAiB,EAAG,CAE3B,GADA,EAAE,eAAc,EACZH,EAAS,MAAM,SAAW,IAAMA,EAAS,QAAQ,KAAM,IAAK,GAAI,CAClE,MAAM,wBAAwB,EAC9B,MACJ,KAAS,CACL,MAAMK,EAAe,CAAE,GAAGL,GAC1B,aAAa,WAAW,qBAAqB,EAC7CD,EAAK,MAAK,EACVC,EAAW,CACT,QAAS,GACT,MAAO,EACb,EACI,QAAQ,IAAIK,CAAY,CACzB,CACH,CACA,SAASJ,GAAgB,CACvB,GAAI,CACF,MAAMK,EAASC,EAAU,qBAAqB,EAC9CR,EAAK,SAAS,MAAM,MAAQO,EAAO,OAAS,GAC5CP,EAAK,SAAS,QAAQ,MAAQO,EAAO,SAAW,GAChDN,EACEM,GAAU,OAAOA,GAAW,SACxBA,EACA,CAAE,MAAO,GAAI,QAAS,EAAE,CAC/B,MAAO,CAAE,CACZ,CACA,SAASF,EAASI,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CACA,SAASH,EAAUC,EAAK,CACtB,MAAME,EAAW,aAAa,QAAQF,CAAG,EACzC,GAAI,CAEF,OADa,KAAK,MAAME,CAAQ,CAEjC,MAAO,CAAE,CACZ"}